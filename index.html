<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>集塵機 - 計算工具</title>
</head>
<body>
    <h1>氧化碴D倉集塵機 - 計算工具</h1>
    <form id="calcForm">
        <label for="outerDiameter">風管外徑 (mm):</label>
        <input type="number" id="outerDiameter" required><br>

        <label for="wallThickness">風管壁厚 (mm):</label>
        <input type="number" id="wallThickness" required><br>

        <label for="length">長 (M):</label>
        <input type="number" id="length" required><br>

        <label for="width">寬 (M):</label>
        <input type="number" id="width" required><br>

        <label for="height">高 (M):</label>
        <input type="number" id="height" required><br>

        <label for="airChanges">每小時換氣次數:</label>
        <input type="number" id="airChanges" required><br>

        <button type="button" onclick="calculateResults()">計算</button>
    </form>

    <h2>計算結果:</h2>
    <div id="results"></div>

    <script>
        function calculateResults() {
            // 輸入數據
            const outerDiameter = parseFloat(document.getElementById('outerDiameter').value); // mm
            const wallThickness = parseFloat(document.getElementById('wallThickness').value); // mm
            const length = parseFloat(document.getElementById('length').value); // M
            const width = parseFloat(document.getElementById('width').value); // M
            const height = parseFloat(document.getElementById('height').value); // M
            const airChanges = parseFloat(document.getElementById('airChanges').value);

            // 單位轉換：將 mm 轉換為 m
            const outerDiameterM = outerDiameter / 1000;
            const wallThicknessM = wallThickness / 1000;

            // 計算風管內徑
            const innerDiameter = outerDiameterM - 2 * wallThicknessM;

            // 計算風管截面積 (A)
            const pipeArea = Math.PI * Math.pow(innerDiameter / 2, 2);

            // 計算立方體體積
            const volume = length * width * height; // 集塵立方 (m^3)

            // 計算風量 (CMM)
            const airVolume = (volume * airChanges) / 60; // 風量 CMM

            // 計算管道風速 (V)
            const windSpeed = (airVolume / pipeArea); // m/s

            // 計算風壓 (P_v)
            const airDensity = 1.2; // 空氣密度 kg/m^3
            const gravity = 9.81; // 重力加速度 m/s^2
            const windPressure = (airDensity * Math.pow(windSpeed, 2)) / (2 * gravity); // mmAq

            // 顯示結果
            document.getElementById('results').innerHTML = `
                <p><strong>風管內徑:</strong> ${innerDiameter.toFixed(3)} m</p>
                <p><strong>風管截面積:</strong> ${pipeArea.toFixed(3)} m<sup>2</sup></p>
                <p><strong>集塵立方體積:</strong> ${volume.toFixed(2)} m<sup>3</sup></p>
                <p><strong>風量 (CMM):</strong> ${airVolume.toFixed(2)} CMM</p>
                <p><strong>管道風速:</strong> ${windSpeed.toFixed(2)} m/s</p>
                <p><strong>風壓:</strong> ${windPressure.toFixed(2)} mmAq</p>
            `;
        }
    </script>
</body>
</html>
